# Anime-Recommendation-System

## Table of contents
- About the project
- Dependencies
- Dataset overview
- Documentation
- Data cleaning
- Data transformation
- Data examination
- Data visualization 
- MapReduce-based K-means algorithm 
- Recommendation
- Results

## About the project
A recommendation system was built in order to accurately give anime suggestions to new users based upon their similarity to existing users within the system. This was achieved with the implementation of a K-Means clustering algorithm in Python along with the processing of a large dataset using MapReduce and Hadoop. A collaborative filtering approach was used in tandem, so only user ratings were being observed. 

## Dependencies
- Apache Hadoop: used to run MapReduce
- Python: used to write the program
    - Modules used for data cleaning, exploration, visualization, and transformation:
        - Pandas
        - Seaborn
        - Matplotlib
## Dataset overview
The original dataset was curated from Kaggle at:
https://www.kaggle.com/datasets/hernan4444/anime-recommendation-database-2020

Data folders
- source: holds the original dataset (list of animes, and user ratings)
- cleaned: holds the cleaned dataset (cleaned list of animes, and user ratings)
- average_ratings: holds the average ratings of each genre for each user
- sample: holds a sample of user ratings
- test: holds a small dataset of user ratings for testing the program
- centroids: holds initials centroids fed to the mapper and final centroids created by the reducer
- genres: holds a list of all the genres in the dataset
- clusters: holds the clusters created by the mapper
- hadoop_output: holds the output for each iteration of the MapReduce program (20 total)
- recommendation: holds the test user ratings, along with the averages of those ratings, a list of the Anime's inputted by the test user and finally the recommendations generated by the program for the test user

## Documentation
- proposal.pdf
    A PDF file that holds the initial proposal or information for the project.

- progress_report.pdf
    A PDF file that holds information regarding the project and any progress made towards the project.

- hadoop_commands.txt
    A txt file that holds the commands to run mapper.py and reducer.py on Hadoop.

- project_report.pdf
    A PDF file that holds the final report for the project. It contains all up-to-date information regarding the project. 

- project_presentation.pptx
    A powerpoint presentation of the project. It has similar information as project_report in addition to a heatmap visualization of the data and final output of the project. 

## Data cleaning
- data_cleaning.ipynb
    A Pandas program that removes a list of anime's from the dataset that were not necessary for this type of recommendation system. 

## Data transformation 
- data_transformation_1.ipynb
    A Pandas program that condenses user ratings into averages (for each genre) which is then used to build user profiles. 

- data_transformation_2.ipynb
    A Pandas program that converts user ids (originally doubles) to integers for easier use.

## Data examination
- examine_clusters.ipynb
    A Pandas program that examines the clusters by printing out the members of each cluster. 

## Data visualization
- visualize_average_ratings.ipynb
    A Seaborn and Matplotlib program that visualizes the average ratings (for each genre) of each user using a heatmap. 

## MapReduce-based K-means algorithm 
- mapper.py
    A Python program that takes an input of initial centroids and parses them. Additionally, it creates clusters based off those centroids and their Euclidian distance from each plotted datapoint. These clusters are then emitted to the reducer.

- reducer.py
    A Python program that takes the clusters created by the mapper and generates new centroids based on the clusters. These new centroids are then fed back to the mapper for multiple iterations.

## Recommendation
- recommendation.py
    A Python program that takes user input (input consists of a user's own ratings on anime's they have watched in the past) and gives anime recommendations based upon the final clusters and centroids that were created in the MapReduce-based K-means program.

- user_input_transformation.ipynb
    A Pandas program that condenses test user ratings into averages in order to build a user profile.

## Results
Testing was performed in order to ensure full functionality of the Anime recommendation system. New users were fed into the system to see if user similarity in the clusters is accurate. These users were then placed into clusters by finding a final centroid they are closest to. The new user was then fed recommendations the other users within the same cluster enjoyed or rated highly. It was found that the recommendations fed to the new users were generally accurate, though a more accurate conclusion can be made by testing with more users. 



